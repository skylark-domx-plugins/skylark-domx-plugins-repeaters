/**
 * skylark-domx-plugins-repeaters - The skylark repeater plugin library
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-domx-plugins/skylark-domx-plugins-repeaters/
 * @license MIT
 */
define(["skylark-langx/langx","skylark-domx-browser","skylark-domx-eventer","skylark-domx-noder","skylark-domx-geom","skylark-domx-query","../view-type-registry","./view-base"],function(m,e,t,i,s,h,a,l){var n=l.inherit({klassName:"LinearView",options:{alignment:"left",infiniteScroll:!1,itemRendered:null,noItemsHTML:"no items found",selectable:!1,viewClass:"repeater-linear",template:'<ul class="clearfix repeater-linear" data-container="true" data-infinite="true" data-preserve="shallow"></ul>',item:{template:'<li class="repeater-item"><img  src="{{ThumbnailImage}}" class="thumb"/><h4 class="title">{{name}}</h4></div>'}},_construct:function(e,t){l.prototype._construct.call(this,e,t)},clearSelectedItems:function(){this.$el.find(".selectable.selected").removeClass("selected")},getSelectedItems:function(){var e=[];return this.$el.find(".selectable.selected").each(function(){e.push(h(this))}),e},setSelectedItems:function(e,i){var t,s,a,l,n=this.options.selectable,r=this;function c(){if(l===e[t].index)return s=h(this),!1;l++}function o(){(s=h(this)).is(e[t].selector)&&d(s,e[t].selected)}function d(e,t){(t=void 0===t||t)?(i||"multi"===n||r.thumbnail_clearSelectedItems(),e.addClass("selected")):e.removeClass("selected")}for(m.isArray(e)||(e=[e]),a=!0===i||"multi"===n?e.length:n&&0<e.length?1:0,t=0;t<a;t++)void 0!==e[t].index?(s=h(),l=0,this.$el.find(".selectable").each(c),0<s.length&&d(s,e[t].selected)):e[t].selector&&this.$el.find(".selectable").each(o)},before:function(e){this.options.alignment;var t=this.$el=this.repeater.$canvas.find("."+this.options.viewClass),e=(e.data,{});return t.length<1?(t=this.$el=h(this.options.template),e.item=t):e.action="none",e},renderItem:function(e){var t=this.options.selectable,i="selected",s=this,a=this._create$Item(this.options.item.template,e.subset[e.index]);return a.data("item_data",e.data.items[e.index]),t&&(a.addClass("selectable"),a.on("click",function(){s.isDisabled||(a.hasClass(i)?(a.removeClass(i),s.repeater.$().trigger("deselected.lark.repeaterList",a)):("multi"!==t&&s.repeater.$canvas.find(".repeater-linear .selectable.selected").each(function(){var e=h(this);e.removeClass(i),s.repeater.$().trigger("deselected.lark.repeaterList",e)}),a.addClass(i),s.repeater.$().trigger("selected.lark.repeaterList",a)))})),e.container.append(a),this.options.itemRendered&&this.options.itemRendered({container:e.container,item:$thumbnail,itemData:e.subset[e.index]},function(){}),!1}});return a.linear={name:"linear",ctor:n},n});
//# sourceMappingURL=../sourcemaps/views/linear-view.js.map
