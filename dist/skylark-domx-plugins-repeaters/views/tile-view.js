/**
 * skylark-domx-plugins-repeaters - The skylark repeater plugin library
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-domx-plugins/skylark-domx-plugins-repeaters/
 * @license MIT
 */
define(["skylark-langx/langx","skylark-domx-browser","skylark-domx-eventer","skylark-domx-noder","skylark-domx-geom","skylark-domx-query","../views","./view-base"],function(e,t,s,i,n,a,l,r){var o=r.inherit({klassName:"TileView",options:{alignment:"left",infiniteScroll:!1,itemRendered:null,noItemsHTML:"no items found",selectable:!1,viewClass:"repeater-tile",template:'<div class="clearfix repeater-tile" data-container="true" data-infinite="true" data-preserve="shallow"></div>',item:{template:'<div class="thumbnail repeater-thumbnail"><img height="75" src="{{src}}" width="65"><span>{{name}}</span></div>'},renderItem:null},clearSelectedItems:function(){this.repeater.$canvas.find(`.${this.options.viewClass} .selectable.selected`).removeClass("selected")},getSelectedItems:function(){var e=[];return this.repeater.$canvas.find(`.${this.options.viewClass} .selectable.selected`).each(function(){e.push(a(this))}),e},setSelectedItems:function(t,s){var i,n,l,r,o=this.options.selectable,c=this;function d(){if(r===t[i].index)return n=a(this),!1;r++}function m(){(n=a(this)).is(t[i].selector)&&h(n,t[i].selected)}function h(e,t){(t=void 0===t||t)?(s||"multi"===o||c.thumbnail_clearSelectedItems(),e.addClass("selected")):e.removeClass("selected")}for(e.isArray(t)||(t=[t]),l=!0===s||"multi"===o?t.length:o&&t.length>0?1:0,i=0;i<l;i++)void 0!==t[i].index?(n=a(),r=0,this.repeater.$canvas.find(`.${this.options.viewClass} .selectable`).each(d),n.length>0&&h(n,t[i].selected)):t[i].selector&&this.repeater.$canvas.find(`.${this.options.viewClass} .selectable`).each(m)},selected:function(){var e,t=this.options.infiniteScroll;t&&(e="object"==typeof t?t:{},this.infiniteScrolling(!0,e))},before:function(e){var t,s=this.options.alignment,i=this.repeater.$canvas.find(`.${this.options.viewClass}`),n=e.data,l={};return i.length<1?((i=a(this.options.template)).addClass(this.options.viewClass),s&&"none"!==s?(s={center:1,justify:1,left:1,right:1}[s]?s:"justify",i.addClass("align-"+s),this.thumbnail_injectSpacers=!0):this.thumbnail_injectSpacers=!1,l.item=i):l.action="none",n.items&&n.items.length<1?((t=a('<div class="empty"></div>')).append(this.options.noItemsHTML),i.append(t)):i.find(".empty:first").remove(),l},renderItem:function(e){if(this.options.renderItem)return this.options.renderItem.call(this,e);var t=this.options.selectable,s=this,i=this._create$Item(this.options.item.template,e.subset[e.index]);return i.data("item_data",e.data.items[e.index]),t&&(i.addClass("selectable"),i.on("click",function(){s.isDisabled||(i.hasClass("selected")?(i.removeClass("selected"),s.repeater.$element.trigger("deselected.lark.repeaterThumbnail",i)):("multi"!==t&&s.repeater.$canvas.find(`.${this.options.viewClass} .selectable.selected`).each(function(){var e=a(this);e.removeClass("selected"),s.repeater.$element.trigger("deselected.lark.repeaterThumbnail",e)}),i.addClass("selected"),s.repeater.$element.trigger("selected.lark.repeaterThumbnail",i)))})),e.container.append(i),this.thumbnail_injectSpacers&&i.after('<span class="spacer">&nbsp;</span>'),this.options.itemRendered&&this.options.itemRendered({container:e.container,item:i,itemData:e.subset[e.index]},function(){}),!1}});return l.tile={name:"tile",ctor:o},o});
//# sourceMappingURL=../sourcemaps/views/tile-view.js.map
