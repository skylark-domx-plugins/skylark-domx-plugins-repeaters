/**
 * skylark-domx-plugins-repeaters - The skylark repeater plugin library
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-domx-plugins/skylark-domx-plugins-repeaters/
 * @license MIT
 */
define(["skylark-langx/langx","skylark-domx-browser","skylark-domx-eventer","skylark-domx-noder","skylark-domx-geom","skylark-domx-query","../view-type-registry","./view-base"],function(m,e,t,s,i,h,n,a){var l=a.inherit({klassName:"TileView",options:{alignment:"left",infiniteScroll:!1,itemRendered:null,noItemsHTML:"no items found",selectable:!0,viewClass:"repeater-tile",template:'<div class="clearfix repeater-tile" data-container="true" data-infinite="true" data-preserve="shallow"></div>',item:{template:'<div class="thumbnail repeater-thumbnail"><img height="75" src="{{src}}" width="65"><span>{{name}}</span></div>'},renderItem:null},_construct:function(e,t){a.prototype._construct.call(this,e,t)},clearSelectedItems:function(){this.$el.find(".selectable.selected").removeClass("selected")},getSelectedItems:function(){var e=[];return this.$el.find(".selectable.selected").each(function(){e.push(h(this))}),e},setSelectedItems:function(e,s){var t,i,n,a,l=this.options.selectable,r=this;function c(){if(a===e[t].index)return i=h(this),!1;a++}function d(){(i=h(this)).is(e[t].selector)&&o(i,e[t].selected)}function o(e,t){(t=void 0===t||t)?(s||"multi"===l||r.thumbnail_clearSelectedItems(),e.addClass("selected")):e.removeClass("selected")}for(m.isArray(e)||(e=[e]),n=!0===s||"multi"===l?e.length:l&&0<e.length?1:0,t=0;t<n;t++)void 0!==e[t].index?(i=h(),a=0,this.$el.find(".selectable").each(c),0<i.length&&o(i,e[t].selected)):e[t].selector&&this.$el.find(".selectable").each(d)},before:function(e){var t=this.options.alignment,s=this.$el=this.repeater.$canvas.find("."+this.options.viewClass),e=e.data,i={};return s.length<1?((s=this.$el=h(this.options.template)).addClass(this.options.viewClass),t&&"none"!==t?(s.addClass("align-"+({center:1,justify:1,left:1,right:1}[t]?t:"justify")),this.thumbnail_injectSpacers=!0):this.thumbnail_injectSpacers=!1,i.item=s):i.action="none",e.items&&e.items.length<1?((t=h('<div class="empty"></div>')).append(this.options.noItemsHTML),s.append(t)):s.find(".empty:first").remove(),i},renderItem:function(e){var t,s,i,n;return this.options.renderItem?this.options.renderItem.call(this,e):(t=this.options.selectable,s="selected",(n=(i=this)._create$Item(this.options.item.template,e.subset[e.index])).data("item_data",e.data.items[e.index]),t&&(n.addClass("selectable"),n.on("click",function(){i.isDisabled||(n.hasClass(s)?(n.removeClass(s),i.repeater.$().trigger("deselected.lark.repeaterThumbnail",n)):("multi"!==t&&i.$el.find(".selectable.selected").each(function(){var e=h(this);e.removeClass(s),i.repeater.$().trigger("deselected",e)}),n.addClass(s),i.repeater.$().trigger("selected.lark.repeaterThumbnail",n)))})),e.container.append(n),this.thumbnail_injectSpacers&&n.after('<span class="spacer">&nbsp;</span>'),this.options.itemRendered&&this.options.itemRendered({container:e.container,item:n,itemData:e.subset[e.index]},function(){}),!1)}});return n.tile={name:"tile",ctor:l},l});
//# sourceMappingURL=../sourcemaps/views/tile-view.js.map
